// ============================================
// ã‚¢ãƒˆãƒªã‚¨éŒ¬é‡‘è¡“ã‚²ãƒ¼ãƒ  ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†Webã‚¢ãƒ—ãƒª
// Prisma ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
// ============================================

// ğŸ”µ Prisma ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
generator client {
  provider = "prisma-client-js"
}

// ğŸ”µ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šè¨­å®š
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ============================================
// ğŸ”µ Enumå®šç¾©
// ============================================

/// ğŸ”µ ã‚«ãƒ¼ãƒ‰ç³»çµ±ï¼ˆWRREQ-012ã‚ˆã‚Šï¼‰
enum CardType {
  MATERIAL    // ç´ æ
  OPERATION   // æ“ä½œ
  CATALYST    // è§¦åª’
  KNOWLEDGE   // çŸ¥è­˜
  SPECIAL     // ç‰¹æ®Š
  ARTIFACT    // ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ
}

/// ğŸŸ¡ ã‚«ãƒ¼ãƒ‰ãƒ¬ã‚¢åº¦
enum CardRarity {
  COMMON
  UNCOMMON
  RARE
  EPIC
  LEGENDARY
}

/// ğŸ”µ ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ï¼ˆWRREQ-033ã‚ˆã‚Šï¼‰
enum NodeType {
  REQUEST       // ä¾é ¼
  MERCHANT      // å•†äºº
  EXPERIMENT    // å®Ÿé¨“
  MONSTER       // é­”ç‰©
  BOSS_REQUEST  // ãƒœã‚¹ä¾é ¼
}

/// ğŸ”µ ãƒ¡ã‚¿é€šè²¨ã‚¿ã‚¤ãƒ—ï¼ˆWRREQ-038ã‚ˆã‚Šï¼‰
enum MetaCurrencyType {
  FAME       // åå£°
  KNOWLEDGE  // çŸ¥è­˜ãƒã‚¤ãƒ³ãƒˆ
}

/// ğŸ”µ ã‚¢ãƒ³ãƒ­ãƒƒã‚¯å¯èƒ½ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ï¼ˆWRREQ-039ã‚ˆã‚Šï¼‰
enum UnlockableContentType {
  CARD      // æ–°ã‚«ãƒ¼ãƒ‰
  CUSTOMER  // æ–°é¡§å®¢
  MATERIAL  // æ–°ç´ æ
}

/// ğŸ”µ ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹è¨­å®šã‚«ãƒ†ã‚´ãƒªï¼ˆWRREQ-048ã€œ051ã‚ˆã‚Šï¼‰
enum GameBalanceCategory {
  ENERGY     // ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 
  HAND       // æ‰‹æœ­ã‚·ã‚¹ãƒ†ãƒ 
  STABILITY  // å®‰å®šå€¤ãƒ»æš´ç™º
  PLAYTIME   // ãƒ—ãƒ¬ã‚¤æ™‚é–“
}

// ============================================
// ğŸ”µ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å®šç¾©
// ============================================

/// ğŸ”µ 1. Cardï¼ˆã‚«ãƒ¼ãƒ‰ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-012ã€œ018ã‚ˆã‚Š
model Card {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ ã‚«ãƒ¼ãƒ‰å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  name            String      @unique @db.VarChar(100) // ğŸ”µ ã‚«ãƒ¼ãƒ‰åï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰
  description     String      @db.VarChar(1000) // ğŸ”µ èª¬æ˜
  cardType        CardType // ğŸ”µ ã‚«ãƒ¼ãƒ‰ç³»çµ±
  attribute       Json // ğŸ”µ å±æ€§å€¤ï¼ˆJSONå½¢å¼ï¼‰
  stabilityValue  Int // ğŸ”µ å®‰å®šå€¤ï¼ˆ-100ã€œ100ï¼‰
  reactionEffect  String?     @db.VarChar(500) // ğŸ”µ åå¿œåŠ¹æœ
  energyCost      Int // ğŸ”µ ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚³ã‚¹ãƒˆï¼ˆ0ã€œ5ï¼‰
  imageUrl        String?     @db.VarChar(500) // ğŸŸ¡ ã‚«ãƒ¼ãƒ‰ç”»åƒURL
  rarity          CardRarity? // ğŸŸ¡ ãƒ¬ã‚¢åº¦

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: é€²åŒ–é–¢ä¿‚ï¼ˆ1:1, 1:Nï¼‰
  evolutionFromId String? @db.Uuid
  evolutionFrom   Card?   @relation("CardEvolution", fields: [evolutionFromId], references: [id], onDelete: SetNull)
  evolutionTo     Card[]  @relation("CardEvolution")

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: éŒ¬é‡‘ã‚¹ã‚¿ã‚¤ãƒ«ã®åˆæœŸãƒ‡ãƒƒã‚­ï¼ˆN:Mï¼‰
  initialDeckStyles AlchemyStyle[] @relation("AlchemyStyleInitialDeck")

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ã‚¢ãƒ³ãƒ­ãƒƒã‚¯æ¡ä»¶ï¼ˆ1:1ï¼‰
  unlockableContent UnlockableContent?

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: é¡§å®¢ã®å ±é…¬ã‚«ãƒ¼ãƒ‰ï¼ˆN:Mï¼‰
  rewardCustomers Customer[] @relation("CustomerRewardCards")

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([cardType])
  @@index([energyCost])
  @@index([deletedAt])
  @@map("cards")
}

/// ğŸ”µ 2. Customerï¼ˆé¡§å®¢ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-021ã€œ028ã‚ˆã‚Š
model Customer {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ é¡§å®¢å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  name                String  @db.VarChar(100) // ğŸ”µ é¡§å®¢å
  description         String  @db.VarChar(1000) // ğŸ”µ èª¬æ˜
  customerType        String  @db.VarChar(50) // ğŸ”µ é¡§å®¢ã‚¿ã‚¤ãƒ—
  difficulty          Int // ğŸ”µ é›£æ˜“åº¦ï¼ˆ1ã€œ5æ˜Ÿï¼‰
  requiredAttribute   Json // ğŸ”µ å¿…è¦å±æ€§å€¤ï¼ˆJSONå½¢å¼ï¼‰
  qualityCondition    Int // ğŸ”µ å“è³ªæ¡ä»¶ï¼ˆ0ã€œ100ï¼‰
  stabilityCondition  Int // ğŸ”µ å®‰å®šæ€§æ¡ä»¶ï¼ˆ0ã€œ100ï¼‰
  rewardFame          Int // ğŸ”µ å ±é…¬: åå£°ï¼ˆ0ã€œ1000ï¼‰
  rewardKnowledge     Int // ğŸ”µ å ±é…¬: çŸ¥è­˜ãƒã‚¤ãƒ³ãƒˆï¼ˆ0ã€œ1000ï¼‰
  portraitUrl         String? @db.VarChar(500) // ğŸŸ¡ é¡§å®¢ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆURL

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: å ±é…¬ã‚«ãƒ¼ãƒ‰ï¼ˆN:Mï¼‰
  rewardCards Card[] @relation("CustomerRewardCards")

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ãƒãƒƒãƒ—ãƒãƒ¼ãƒ‰ï¼ˆ1:Nï¼‰
  mapNodes MapNode[]

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ã‚¢ãƒ³ãƒ­ãƒƒã‚¯æ¡ä»¶ï¼ˆ1:1ï¼‰
  unlockableContent UnlockableContent?

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([customerType])
  @@index([difficulty])
  @@index([deletedAt])
  @@map("customers")
}

/// ğŸ”µ 3. AlchemyStyleï¼ˆéŒ¬é‡‘ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-029ã€œ032ã‚ˆã‚Š
model AlchemyStyle {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ éŒ¬é‡‘ã‚¹ã‚¿ã‚¤ãƒ«å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  name            String  @unique @db.VarChar(100) // ğŸ”µ ã‚¹ã‚¿ã‚¤ãƒ«åï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰
  description     String  @db.VarChar(1000) // ğŸ”µ èª¬æ˜
  characteristics String  @db.VarChar(500) // ğŸ”µ ç‰¹å¾´
  iconUrl         String? @db.VarChar(500) // ğŸŸ¡ ã‚¢ã‚¤ã‚³ãƒ³URL

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: åˆæœŸãƒ‡ãƒƒã‚­ã®ã‚«ãƒ¼ãƒ‰ï¼ˆN:Mï¼‰
  initialDeckCards Card[] @relation("AlchemyStyleInitialDeck")

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([deletedAt])
  @@map("alchemy_styles")
}

/// ğŸ”µ 4. MapNodeï¼ˆãƒãƒƒãƒ—ãƒãƒ¼ãƒ‰ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-033ã€œ037ã‚ˆã‚Š
model MapNode {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ ãƒãƒƒãƒ—ãƒãƒ¼ãƒ‰å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  name         String   @db.VarChar(100) // ğŸ”µ ãƒãƒ¼ãƒ‰å
  nodeType     NodeType // ğŸ”µ ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—
  description  String   @db.VarChar(1000) // ğŸ”µ èª¬æ˜
  eventContent Json // ğŸ”µ ã‚¤ãƒ™ãƒ³ãƒˆå†…å®¹ï¼ˆJSONå½¢å¼ï¼‰
  rewards      Json? // ğŸ”µ å ±é…¬ï¼ˆJSONå½¢å¼ï¼‰
  iconUrl      String?  @db.VarChar(500) // ğŸŸ¡ ã‚¢ã‚¤ã‚³ãƒ³URL

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: é¡§å®¢ï¼ˆN:1ï¼‰
  customerId String?   @db.Uuid
  customer   Customer? @relation(fields: [customerId], references: [id], onDelete: SetNull)

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ãƒãƒƒãƒ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆN:1ï¼‰
  mapTemplateId String?      @db.Uuid
  mapTemplate   MapTemplate? @relation(fields: [mapTemplateId], references: [id], onDelete: SetNull)

  // ğŸŸ¡ ãƒãƒ¼ãƒ‰ã®åº§æ¨™ä½ç½®ï¼ˆJSONå½¢å¼: {x: number, y: number}ï¼‰
  position Json?

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([nodeType])
  @@index([customerId])
  @@index([mapTemplateId])
  @@index([deletedAt])
  @@map("map_nodes")
}

/// ğŸ”µ 5. MapTemplateï¼ˆãƒãƒƒãƒ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-035ã€œ036ã‚ˆã‚Š
model MapTemplate {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ ãƒãƒƒãƒ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  name        String @db.VarChar(100) // ğŸ”µ ãƒãƒƒãƒ—å
  description String @db.VarChar(1000) // ğŸ”µ èª¬æ˜
  difficulty  Int // ğŸ”µ é›£æ˜“åº¦ï¼ˆ1ã€œ5ï¼‰
  nodeCount   Int // ğŸ”µ ãƒãƒ¼ãƒ‰æ•°ï¼ˆ30ã€œ50ï¼‰
  iconUrl     String? @db.VarChar(500) // ğŸŸ¡ ã‚¢ã‚¤ã‚³ãƒ³URL

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å«ã¾ã‚Œã‚‹ãƒãƒ¼ãƒ‰ï¼ˆ1:Nï¼‰
  nodes MapNode[]

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([difficulty])
  @@index([deletedAt])
  @@map("map_templates")
}

/// ğŸ”µ 6. MetaCurrencyï¼ˆãƒ¡ã‚¿é€šè²¨ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-038ã‚ˆã‚Š
model MetaCurrency {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ ãƒ¡ã‚¿é€šè²¨å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  currencyType MetaCurrencyType @unique // ğŸ”µ é€šè²¨ã‚¿ã‚¤ãƒ—ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰
  description  String           @db.VarChar(500) // ğŸ”µ èª¬æ˜
  iconUrl      String?          @db.VarChar(500) // ğŸŸ¡ ã‚¢ã‚¤ã‚³ãƒ³URL

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([deletedAt])
  @@map("meta_currencies")
}

/// ğŸ”µ 7. UnlockableContentï¼ˆã‚¢ãƒ³ãƒ­ãƒƒã‚¯å¯èƒ½ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-039ã€œ040ã‚ˆã‚Š
model UnlockableContent {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ ã‚¢ãƒ³ãƒ­ãƒƒã‚¯å¯èƒ½ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  contentType        UnlockableContentType // ğŸ”µ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—
  requiredFame       Int                   @default(0) // ğŸ”µ å¿…è¦åå£°ï¼ˆ0ã€œ10000ï¼‰
  requiredKnowledge  Int                   @default(0) // ğŸ”µ å¿…è¦çŸ¥è­˜ãƒã‚¤ãƒ³ãƒˆï¼ˆ0ã€œ10000ï¼‰

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ã‚¢ãƒ³ãƒ­ãƒƒã‚¯å¯¾è±¡ã‚«ãƒ¼ãƒ‰ï¼ˆ1:1ï¼‰
  cardId   String? @unique @db.Uuid
  card     Card?   @relation(fields: [cardId], references: [id], onDelete: Cascade)

  // ğŸ”µ ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ã‚¢ãƒ³ãƒ­ãƒƒã‚¯å¯¾è±¡é¡§å®¢ï¼ˆ1:1ï¼‰
  customerId String?   @unique @db.Uuid
  customer   Customer? @relation(fields: [customerId], references: [id], onDelete: Cascade)

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([contentType])
  @@index([deletedAt])
  @@map("unlockable_contents")
}

/// ğŸ”µ 8. GameBalanceï¼ˆã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ï¼‰ãƒ¢ãƒ‡ãƒ«
/// WRREQ-041ã€œ042ã€WRREQ-048ã€œ051ã‚ˆã‚Š
model GameBalance {
  // ğŸ”µ å…±é€šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  id        String    @id @default(uuid()) @db.Uuid
  createdAt DateTime  @default(now()) @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @db.Timestamptz(3)
  deletedAt DateTime? @db.Timestamptz(3)

  // ğŸ”µ ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  settingKey   String              @unique @db.VarChar(100) // ğŸ”µ è¨­å®šã‚­ãƒ¼ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰
  settingValue String              @db.VarChar(500) // ğŸ”µ è¨­å®šå€¤
  description  String              @db.VarChar(500) // ğŸ”µ èª¬æ˜
  category     GameBalanceCategory // ğŸ”µ ã‚«ãƒ†ã‚´ãƒª

  // ğŸŸ¡ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  @@index([category])
  @@index([deletedAt])
  @@map("game_balance")
}

// ============================================
// ğŸ”µ ERå›³ï¼ˆMermaidè¨˜æ³•ï¼‰
// ============================================
//
// ```mermaid
// erDiagram
//     CARD ||--o{ CARD : "é€²åŒ–é–¢ä¿‚"
//     CARD }o--o{ ALCHEMY_STYLE : "åˆæœŸãƒ‡ãƒƒã‚­"
//     CARD ||--o| UNLOCKABLE_CONTENT : "ã‚¢ãƒ³ãƒ­ãƒƒã‚¯æ¡ä»¶"
//     CARD }o--o{ CUSTOMER : "å ±é…¬"
//     CUSTOMER ||--o{ MAP_NODE : "ç™»å ´ãƒãƒ¼ãƒ‰"
//     CUSTOMER ||--o| UNLOCKABLE_CONTENT : "ã‚¢ãƒ³ãƒ­ãƒƒã‚¯æ¡ä»¶"
//     MAP_TEMPLATE ||--o{ MAP_NODE : "ãƒãƒ¼ãƒ‰é…ç½®"
//
//     CARD {
//         uuid id PK
//         string name UK
//         enum cardType
//         json attribute
//         int stabilityValue
//         int energyCost
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     CUSTOMER {
//         uuid id PK
//         string name
//         string customerType
//         int difficulty
//         json requiredAttribute
//         int rewardFame
//         int rewardKnowledge
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     ALCHEMY_STYLE {
//         uuid id PK
//         string name UK
//         string description
//         string characteristics
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     MAP_NODE {
//         uuid id PK
//         string name
//         enum nodeType
//         json eventContent
//         uuid customerId FK
//         uuid mapTemplateId FK
//         json position
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     MAP_TEMPLATE {
//         uuid id PK
//         string name
//         string description
//         int difficulty
//         int nodeCount
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     UNLOCKABLE_CONTENT {
//         uuid id PK
//         enum contentType
//         int requiredFame
//         int requiredKnowledge
//         uuid cardId FK
//         uuid customerId FK
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     GAME_BALANCE {
//         uuid id PK
//         string settingKey UK
//         string settingValue
//         enum category
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
//
//     META_CURRENCY {
//         uuid id PK
//         enum currencyType UK
//         string description
//         timestamp createdAt
//         timestamp updatedAt
//         timestamp deletedAt
//     }
// ```

// ============================================
// ğŸ”µ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥
// ============================================
//
// 1. ğŸ”µ ä¸»ã‚­ãƒ¼ï¼ˆidï¼‰: è‡ªå‹•çš„ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆï¼ˆUUIDï¼‰
// 2. ğŸ”µ ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„: nameï¼ˆCardã€AlchemyStyleï¼‰ã€settingKeyï¼ˆGameBalanceï¼‰ã€currencyTypeï¼ˆMetaCurrencyï¼‰
// 3. ğŸŸ¡ æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹:
//    - Card: cardType, energyCost, deletedAt
//    - Customer: customerType, difficulty, deletedAt
//    - MapNode: nodeType, customerId, mapTemplateId, deletedAt
//    - MapTemplate: difficulty, deletedAt
//    - GameBalance: category, deletedAt
//    - UnlockableContent: contentType, deletedAt
// 4. ğŸŸ¡ å¤–éƒ¨ã‚­ãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: è‡ªå‹•çš„ã«ä½œæˆï¼ˆcustomerIdã€mapTemplateIdç­‰ï¼‰
//
// ============================================
// ğŸ”µ ã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆæˆ¦ç•¥
// ============================================
//
// - å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«`deletedAt`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
// - DELETEæ“ä½œæ™‚ã¯`deletedAt`ã«ç¾åœ¨æ™‚åˆ»ã‚’è¨­å®š
// - SELECTæ™‚ã¯`deletedAt IS NULL`ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
// - PrismaãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ã‚½ãƒ•ãƒˆãƒ‡ãƒªãƒ¼ãƒˆã‚’å®Ÿè£…
//
// ============================================
// ğŸ”µ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥
// ============================================
//
// Prismaã‚¹ã‚­ãƒ¼ãƒã«ã¯ç¯„å›²åˆ¶ç´„ï¼ˆ0ã€œ5ã€-100ã€œ100ç­‰ï¼‰ã‚’ç›´æ¥å®šç¾©ã§ããªã„ãŸã‚ã€
// ä»¥ä¸‹ã®å±¤ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ï¼š
//
// 1. ğŸ”µ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆReact Hook Form + Zodï¼‰
//    - ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›æ™‚ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
//    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
//
// 2. ğŸ”µ ã‚µãƒ¼ãƒãƒ¼å´ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆHono.js + Zodï¼‰
//    - APIãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡æ™‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
//    - æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´
//
// 3. ğŸŸ¡ ã‚µãƒ¼ãƒ“ã‚¹å±¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆTypeScriptï¼‰
//    - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å›ºæœ‰ã®åˆ¶ç´„ãƒã‚§ãƒƒã‚¯
//    - é‡è¤‡ãƒã‚§ãƒƒã‚¯ã€ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ç­‰
//
// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¾‹:
// - energyCost: Zodã‚¹ã‚­ãƒ¼ãƒã§ z.number().min(0).max(5)
// - stabilityValue: Zodã‚¹ã‚­ãƒ¼ãƒã§ z.number().min(-100).max(100)
// - difficulty: Zodã‚¹ã‚­ãƒ¼ãƒã§ z.number().min(1).max(5)
// - nodeCount: Zodã‚¹ã‚­ãƒ¼ãƒã§ z.number().min(30).max(50)
//
// ============================================
// ğŸ”µ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
// ============================================
//
// åˆå›ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:
// ```bash
// npx prisma migrate dev --name init
// ```
//
// ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨:
// ```bash
// npx prisma migrate deploy
// ```
//
// Prisma Studioèµ·å‹•:
// ```bash
// npx prisma studio
// ```
